# AI 跨境电商选品分析解决方案（操作步骤）

作者: Cclear116

该方案基于提供的 Python 代码，实现通过视频内容自动分析商品信息并生成跨境电商选品报告的全流程。以下是详细操作步骤：

## 一、方案背景与目标



*   核心功能：通过分析视频关键帧和语音内容，自动识别商品信息（名称、特征、出现次数等），生成结构化选品报告，辅助跨境电商选品决策。

*   输出结果：包含商品分类、详细信息、目标市场推荐等的 JSON 格式报告（ai\_goods\_report.json）。

## 二、准备工作

### 1. 环境要求



*   操作系统：Windows/macOS/Linux

*   Python 版本：3.7 及以上（需支持异步语法 asyncio）

*   依赖库：需安装阿里云相关 SDK 及基础库，具体包括：



```
pip install alibabacloud-tea-openapi-sse alibabacloud-tea-util-sse
```

### 2. 必要资源获取



*   阿里云 Access Key：用于调用 API 的身份认证


    *   登录阿里云控制台，进入「Access Key 管理」页面创建或获取 access\_key\_id 和 access\_key\_secret。

*   Workspace ID：阿里云视频分析服务的工作空间 ID


    *   在阿里云对应服务 “阿里云百炼”（“影视传媒视频理解模型”）中创建工作空间，获取其 ID。大模型服务平台百炼控制台

*   目标视频 URL：需分析的商品视频地址（需确保 URL 可公开访问，支持 HTTP/HTTPS 协议）。可以结合阿里云对象储存 OSS 服务。

## 三、操作步骤

### 步骤 1：代码文件准备



1.  创建工作目录（如 ai\_selector），将以下两个文件放入目录中：

*   main.py：视频分析主脚本

*   output\_report.py：报告生成脚本

### 步骤 2：配置视频分析参数（关键步骤）



1.  打开 main.py，找到 CONFIG 字典，替换为实际信息：



```
CONFIG = {

&#x20;   "access\_key\_id": "你的Access Key ID",  # 替换为步骤2获取的Access Key ID

&#x20;   "access\_key\_secret": "你的Access Key Secret",  # 替换为步骤2获取的Secret

&#x20;   "workspace\_id": "你的工作空间ID",  # 替换为步骤2获取的Workspace ID

&#x20;   "video\_url": "你的视频URL"  # 替换为需分析的视频地址（如商品展示视频）

}
```



1.  （可选）自定义分析规则：

*   vl\_prompt：定义视频关键帧分析逻辑（如商品识别维度、输出格式），如需调整分析细节可修改此部分。

*   llm\_prompt：定义选品报告结构（如商品分类、目标市场字段），如需新增字段可修改 JSON 模板。

### 步骤 3：运行视频分析脚本



1.  打开终端，进入工作目录：



```
cd /path/to/ai\_selector  # 替换为实际目录路径
```



1.  执行 main.py，启动视频分析：



```
python main.py
```



1.  运行过程说明：

*   脚本会调用阿里云 API，对视频进行关键帧提取和内容分析。

*   终端会输出 “开始接收服务器数据...”“已收到完整结果...” 等日志。

*   分析完成后，会在目录中生成 raw\_server\_events.json（存储 API 返回的原始数据）。

### 步骤 4：生成选品报告



1.  确保 raw\_server\_events.json 已生成（步骤 3 成功完成）。

2.  执行报告生成脚本：



```
python output\_report.py
```



1.  运行过程说明：

*   脚本会从 raw\_server\_events.json 中提取最后一个有效分析结果，处理转义字符并格式化。

*   终端会输出 “提取并格式化后的内容”，同时在目录中生成 ai\_goods\_report.json。

### 步骤 5：查看与使用选品报告



1.  打开 ai\_goods\_report.json，报告包含 4 个核心字段：

*   product\_categories：商品分类（含种类、使用场景、功能）

*   products：商品详情（含名称、出现次数、描述）

*   target\_markets：目标市场推荐（含国家、推荐商品及理由）

*   the\_time：商品出现时间线（含时间点和场景描述）

1.  应用场景：

*   根据 target\_markets 判断商品适配的海外市场。

*   通过 frequency（出现次数）识别视频重点推广的商品。

*   结合 usage\_scenario（使用场景）优化商品 Listing 描述。

## 四、常见问题与排查



1.  API 调用失败：

*   检查 access\_key\_id 和 access\_key\_secret 是否正确（需确保有权限调用目标服务）。

*   确认 workspace\_id 与 Access Key 属于同一阿里云账号。

1.  视频分析无结果：

*   检查 video\_url 是否可访问（可直接在浏览器打开测试）。

*   视频时长过长可能导致超时，可尝试缩短视频或调整 runtime 参数（如 read\_timeout=1200000 即 20 分钟）。

1.  报告生成失败：

*   若提示 “未找到匹配的 text 字段”，说明 raw\_server\_events.json 中无有效分析结果，需重新运行步骤 3。

*   若 JSON 解析错误，可查看终端输出的 “原始处理内容”，手动修正格式后重新保存。

## 五、方案扩展建议



*

1.  定向视频爬虫

*   针对目标市场（如日本），按标签（# 日本家庭 #生活纪录片等）爬取高热度视频，自动筛选优质素材（过滤低播放量内容），直接接入批量分析流程，解决视频来源碎片化问题。

<!---->

*

1.  电商数据联动

*   爬取视频识别商品在亚马逊、乐天等平台的销量、价格、排名数据，与视频热度对比，验证 “视频热门” 是否转化为 “市场畅销”，避免选品盲目性。

<!---->

*

1.  评论情感分析

*   爬取潜力商品的用户评论，用情感分析提取高频好评（如 “日式风格适配”）和槽点（如 “价格高”），补充到选品报告，指导差异化选品（如推轻量化版本）。

<!---->

*

1.  自动化评分与推荐

*   结合视频热度、市场销量、用户满意度等数据，建立评分模型（0-10 分），自动生成 “优先选品池”，每周动态更新，适合规模化选品。

<!---->

*

1.  运营策略延伸

*   监控竞品价格，结合视频场景（如冬季暖手宝高频出现）和目标市场节日（如日本忘年会），推荐促销时机，实现从选品到运营的闭环。

<!---->

*   延长后工作流：


    *   定向爬取视频→批量分析→电商数据验证→评论情感挖掘→评分推荐→动态运营策略（形成 “自动采数 - 分析 - 决策” 闭环，提升选品精准度与效率）

## 六、 结果示例

视频地址：带着我的狗狗选了个凉爽的下雨天，开车到郊外帐篷露营野，享受治愈的感觉\_哔哩哔哩\_bilibili



```
python.exe E:\python \AIFindGoods\main.py

工作流开始

开始接收服务器数据...

已收到完整结果,停止接收事件...

服务器原始事件数据已保存: raw\_server\_events.json

开始生成报告

提取并格式化后的内容:

{

"product\_categories":\[

{

"category":"露营装备",

"usage\_scenario":"户外露营或室内模拟露营环境",
```

输出 ai\_goods\_report.json



```
{

&#x20; "product\_categories": \[

&#x20;   {

&#x20;     "category": "露营装备",

&#x20;     "usage\_scenario": "户外露营或室内模拟露营环境",

&#x20;     "functions": "提供舒适的休息和烹饪环境，增强露营体验"

&#x20;   },

&#x20;   {

&#x20;     "category": "宠物用品",

&#x20;     "usage\_scenario": "家庭宠物护理及活动",

&#x20;     "functions": "保护宠物、提升宠物舒适度"

&#x20;   },

&#x20;   {

&#x20;     "category": "厨房用品",

&#x20;     "usage\_scenario": "露营或家庭烹饪",

&#x20;     "functions": "便于准备和享用食物"

&#x20;   }

&#x20; ],

&#x20; "products": \[

&#x20;   {

&#x20;     "name": "充气床垫",

&#x20;     "frequency": 5,

&#x20;     "description": "浅色充气床垫，带有品牌标识，放置在帐篷内或室内环境中，用于提供舒适的睡眠体验。"

&#x20;   },

&#x20;   {

&#x20;     "name": "便携式燃气灶",

&#x20;     "frequency": 4,

&#x20;     "description": "黑色面板设计，带有蓝色火焰，适合户外烹饪使用，展示其点燃和操作的过程。"

&#x20;   },

&#x20;   {

&#x20;     "name": "宠物尿布",

&#x20;     "frequency": 3,

&#x20;     "description": "白色带有卡通图案的宠物尿布，穿在小型犬身上，用于宠物护理，保持清洁。"

&#x20;   },

&#x20;   {

&#x20;     "name": "金属锅",

&#x20;     "frequency": 3,

&#x20;     "description": "银色金属材质，用于煮面条、炖汤等烹饪活动，展示其在露营或家庭厨房中的实用性。"

&#x20;   },

&#x20;   {

&#x20;     "name": "帐篷",

&#x20;     "frequency": 2,

&#x20;     "description": "宽敞的绿色露营帐篷，带有窗户和门，内部装饰温馨，适用于户外露营或室内模拟场景。"

&#x20;   },

&#x20;   {

&#x20;     "name": "智能摄像头",

&#x20;     "frequency": 1,

&#x20;     "description": "圆柱形设计，顶部有蓝色指示灯，可能用于监控或安全防护，出现在室内环境中。"

&#x20;   }

&#x20; ],

&#x20; "target\_markets": \[

&#x20;   {

&#x20;     "country": "美国",

&#x20;     "recommended\_products": \[

&#x20;       "充气床垫",

&#x20;       "便携式燃气灶"

&#x20;     ],

&#x20;     "reason": "美国消费者热衷于户外活动和露营，这些产品能显著提升露营的舒适性和便利性，符合市场需求。"

&#x20;   },

&#x20;   {

&#x20;     "country": "韩国",

&#x20;     "recommended\_products": \[

&#x20;       "宠物尿布",

&#x20;       "金属锅"

&#x20;     ],

&#x20;     "reason": "韩国家庭对宠物护理和家庭烹饪有较高需求，这些产品能满足日常生活中的实际需要，具有较高的市场潜力。"

&#x20;   }

&#x20; ],

&#x20; "the\_time": \[

&#x20;   {

&#x20;     "product": "充气床垫",

&#x20;     "appearances": \[

&#x20;       {

&#x20;         "time": "00:00",

&#x20;         "description": "帐篷内铺设充气床垫，人物调整睡姿准备休息"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:05",

&#x20;         "description": "人物躺在床上，继续调整姿势"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:15",

&#x20;         "description": "人物侧卧在充气床垫上，准备入睡"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:25",

&#x20;         "description": "人物侧卧在充气床垫上，已进入睡眠状态"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:30",

&#x20;         "description": "人物侧卧在充气床垫上，完全进入睡眠"

&#x20;       }

&#x20;     ]

&#x20;   },

&#x20;   {

&#x20;     "product": "便携式燃气灶",

&#x20;     "appearances": \[

&#x20;       {

&#x20;         "time": "00:00",

&#x20;         "description": "燃气灶点燃蓝色火焰，用户准备烹饪"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:10",

&#x20;         "description": "燃气灶上煮沸的锅中放入面条"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:20",

&#x20;         "description": "燃气灶上炒锅翻炒西葫芦条"

&#x20;       }

&#x20;     ]

&#x20;   },

&#x20;   {

&#x20;     "product": "宠物尿布",

&#x20;     "appearances": \[

&#x20;       {

&#x20;         "time": "00:00",

&#x20;         "description": "小狗穿着白色卡通图案尿布，躺在沙发上"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:05",

&#x20;         "description": "小狗穿着尿布在床上跳跃"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:10",

&#x20;         "description": "小狗穿着尿布站在地毯上"

&#x20;       }

&#x20;     ]

&#x20;   },

&#x20;   {

&#x20;     "product": "金属锅",

&#x20;     "appearances": \[

&#x20;       {

&#x20;         "time": "00:00",

&#x20;         "description": "金属锅中煮沸的水，准备烹饪面条"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:10",

&#x20;         "description": "金属锅中搅拌面条，防止粘连"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:20",

&#x20;         "description": "金属锅中翻炒西葫芦条"

&#x20;       }

&#x20;     ]

&#x20;   },

&#x20;   {

&#x20;     "product": "帐篷",

&#x20;     "appearances": \[

&#x20;       {

&#x20;         "time": "00:00",

&#x20;         "description": "绿色帐篷外景，背景为自然环境"

&#x20;       },

&#x20;       {

&#x20;         "time": "00:10",

&#x20;         "description": "帐篷内部温馨布置，人物与宠物互动"

&#x20;       }

&#x20;     ]

&#x20;   },

&#x20;   {

&#x20;     "product": "智能摄像头",

&#x20;     "appearances": \[

&#x20;       {

&#x20;         "time": "00:00",

&#x20;         "description": "室内环境中展示智能摄像头，顶部有蓝色指示灯"

&#x20;       }

&#x20;     ]

&#x20;   }

&#x20; ]

}
```
